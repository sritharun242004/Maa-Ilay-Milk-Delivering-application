module.exports=[91965,a=>{"use strict";let b=(0,a.i(70106).default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);a.s(["History",()=>b],91965)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},23025,a=>{"use strict";let b=(0,a.i(70106).default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);a.s(["Minus",()=>b],23025)},24669,a=>{"use strict";let b=(0,a.i(70106).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],24669)},53277,a=>{"use strict";let b=(0,a.i(70106).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);a.s(["TrendingDown",()=>b],53277)},15311,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(33217),e=a.i(70025),f=a.i(37927),g=a.i(83497),h=a.i(15618),i=a.i(23025),j=a.i(24669),k=a.i(53277),l=a.i(91965),m=a.i(33508),n=a.i(68114),o=a.i(6704);function p(){return(0,b.jsx)("div",{className:"p-6 lg:p-8",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,b.jsx)("div",{className:"h-8 w-48 bg-gray-200 rounded-lg animate-pulse"}),(0,b.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(a=>(0,b.jsx)("div",{className:"h-28 bg-white rounded-2xl animate-pulse"},a))})]})})}function q(){let a=(0,f.useQueryClient)(),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)("add"),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),{data:A,isLoading:B}=(0,d.useQuery)({queryKey:["inventory"],queryFn:async()=>{let a=await fetch("/api/admin/inventory");if(!a.ok)throw Error("Failed to fetch");return a.json()}}),C=(0,e.useMutation)({mutationFn:async()=>{let a=parseInt(u)||0,b=parseInt(w)||0,c=await fetch("/api/admin/inventory",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({largeBottlesDelta:"add"===s?a:-a,smallBottlesDelta:"add"===s?b:-b,reason:y})});if(!c.ok)throw Error((await c.json()).error);return c.json()},onSuccess:()=>{o.default.success("Inventory updated"),a.invalidateQueries({queryKey:["inventory"]}),r(!1),v(""),x(""),z("")},onError:a=>{o.default.error(a.message)}});if(B)return(0,b.jsx)(p,{});let D=A?.data?.inventory,E=A?.data?.recentLogs||[];return(0,b.jsx)("div",{className:"p-6 lg:p-8",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Inventory"}),(0,b.jsx)("p",{className:"text-gray-500 mt-1",children:"Track bottle stock and circulation"})]}),(0,b.jsxs)("button",{onClick:()=>r(!0),className:"inline-flex items-center gap-2 px-5 py-2.5 bg-slate-900 text-white font-medium rounded-xl hover:bg-slate-800 transition-colors",children:[(0,b.jsx)(h.Plus,{className:"w-5 h-5"}),"Update Stock"]})]}),q&&(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:()=>r(!1)}),(0,b.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-xl w-full max-w-md mx-4 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Update Inventory"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Add or remove bottles from stock"})]}),(0,b.jsx)("button",{onClick:()=>r(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,b.jsx)(m.X,{className:"w-5 h-5 text-gray-500"})})]}),(0,b.jsxs)("div",{className:"flex gap-2 p-1 bg-gray-100 rounded-xl mb-6",children:[(0,b.jsxs)("button",{onClick:()=>t("add"),className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-sm font-medium transition-colors ${"add"===s?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[(0,b.jsx)(h.Plus,{className:"w-4 h-4"}),"Add Stock"]}),(0,b.jsxs)("button",{onClick:()=>t("remove"),className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-sm font-medium transition-colors ${"remove"===s?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[(0,b.jsx)(i.Minus,{className:"w-4 h-4"}),"Remove Stock"]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"1L Bottles"}),(0,b.jsx)("input",{type:"number",value:u,onChange:a=>v(a.target.value),placeholder:"0",min:"0",className:"w-full h-11 px-4 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"500ml Bottles"}),(0,b.jsx)("input",{type:"number",value:w,onChange:a=>x(a.target.value),placeholder:"0",min:"0",className:"w-full h-11 px-4 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Reason"}),(0,b.jsx)("input",{type:"text",value:y,onChange:a=>z(a.target.value),placeholder:"e.g., New purchase, Damaged bottles",className:"w-full h-11 px-4 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,b.jsx)("button",{onClick:()=>r(!1),className:"flex-1 h-11 px-4 border border-gray-200 rounded-xl font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>C.mutate(),disabled:!u&&!w||!y||C.isPending,className:`flex-1 h-11 px-4 rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-colors ${"remove"===s?"bg-red-600 text-white hover:bg-red-700":"bg-slate-900 text-white hover:bg-slate-800"}`,children:C.isPending?"Updating...":"add"===s?"Add to Inventory":"Remove from Inventory"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsx)("div",{className:"bg-white rounded-2xl p-6 border border-gray-200 shadow-sm",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total 1L"}),(0,b.jsx)("p",{className:"text-4xl font-bold text-gray-900",children:D?.largeBottlesTotal||0})]}),(0,b.jsx)("div",{className:"w-14 h-14 bg-blue-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(g.Package,{className:"w-7 h-7 text-blue-600"})})]})}),(0,b.jsx)("div",{className:"bg-white rounded-2xl p-6 border border-gray-200 shadow-sm",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total 500ml"}),(0,b.jsx)("p",{className:"text-4xl font-bold text-gray-900",children:D?.smallBottlesTotal||0})]}),(0,b.jsx)("div",{className:"w-14 h-14 bg-purple-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(g.Package,{className:"w-6 h-6 text-purple-600"})})]})}),(0,b.jsx)("div",{className:"bg-white rounded-2xl p-6 border border-gray-200 shadow-sm",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"1L Out"}),(0,b.jsx)("p",{className:"text-4xl font-bold text-amber-600",children:D?.largeBottlesInCirculation||0})]}),(0,b.jsx)("div",{className:"w-14 h-14 bg-amber-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(j.TrendingUp,{className:"w-7 h-7 text-amber-600"})})]})}),(0,b.jsx)("div",{className:"bg-white rounded-2xl p-6 border border-gray-200 shadow-sm",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"500ml Out"}),(0,b.jsx)("p",{className:"text-4xl font-bold text-orange-600",children:D?.smallBottlesInCirculation||0})]}),(0,b.jsx)("div",{className:"w-14 h-14 bg-orange-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(j.TrendingUp,{className:"w-6 h-6 text-orange-600"})})]})})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[(0,b.jsx)("div",{className:"px-6 py-5 border-b border-gray-200",children:(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"1L Bottle Status"})}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Total Stock"}),(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:D?.largeBottlesTotal||0})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"With Customers"}),(0,b.jsx)("span",{className:"font-semibold text-amber-600",children:D?.largeBottlesInCirculation||0})]}),(0,b.jsx)("div",{className:"h-px bg-gray-200"}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"font-medium text-gray-700",children:"Available"}),(0,b.jsx)("span",{className:"text-xl font-bold text-emerald-600",children:D?.largeBottlesAvailable||0})]}),(0,b.jsx)("div",{className:"h-3 bg-gray-100 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-emerald-500 rounded-full transition-all duration-500",style:{width:`${D?.largeBottlesTotal>0?(D?.largeBottlesAvailable||0)/D?.largeBottlesTotal*100:0}%`}})})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[(0,b.jsx)("div",{className:"px-6 py-5 border-b border-gray-200",children:(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"500ml Bottle Status"})}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Total Stock"}),(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:D?.smallBottlesTotal||0})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"With Customers"}),(0,b.jsx)("span",{className:"font-semibold text-amber-600",children:D?.smallBottlesInCirculation||0})]}),(0,b.jsx)("div",{className:"h-px bg-gray-200"}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"font-medium text-gray-700",children:"Available"}),(0,b.jsx)("span",{className:"text-xl font-bold text-emerald-600",children:D?.smallBottlesAvailable||0})]}),(0,b.jsx)("div",{className:"h-3 bg-gray-100 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-amber-500 rounded-full transition-all duration-500",style:{width:`${D?.smallBottlesTotal>0?(D?.smallBottlesAvailable||0)/D?.smallBottlesTotal*100:0}%`}})})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[(0,b.jsxs)("div",{className:"px-6 py-5 border-b border-gray-200 flex items-center gap-3",children:[(0,b.jsx)(l.History,{className:"w-5 h-5 text-gray-400"}),(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Changes"})]}),0===E.length?(0,b.jsxs)("div",{className:"p-12 text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(l.History,{className:"w-8 h-8 text-gray-400"})}),(0,b.jsx)("p",{className:"text-gray-500 font-medium",children:"No inventory changes yet"}),(0,b.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Updates will appear here when you add or remove stock"})]}):(0,b.jsx)("div",{className:"p-6 space-y-3",children:E.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[a.largeBottlesDelta>=0&&a.smallBottlesDelta>=0?(0,b.jsx)("div",{className:"w-10 h-10 bg-emerald-100 rounded-xl flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(j.TrendingUp,{className:"w-5 h-5 text-emerald-600"})}):(0,b.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-xl flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(k.TrendingDown,{className:"w-5 h-5 text-red-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-gray-900",children:a.reason}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:(0,n.formatDateTime)(a.createdAt)})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[0!==a.largeBottlesDelta&&(0,b.jsxs)("p",{className:`text-sm font-semibold ${a.largeBottlesDelta>0?"text-emerald-600":"text-red-600"}`,children:[a.largeBottlesDelta>0?"+":"",a.largeBottlesDelta," × 1L"]}),0!==a.smallBottlesDelta&&(0,b.jsxs)("p",{className:`text-sm font-semibold ${a.smallBottlesDelta>0?"text-emerald-600":"text-red-600"}`,children:[a.smallBottlesDelta>0?"+":"",a.smallBottlesDelta," × 500ml"]})]})]},a.id))})]})]})})}a.s(["default",()=>q])}];

//# sourceMappingURL=_48cb2fe8._.js.map