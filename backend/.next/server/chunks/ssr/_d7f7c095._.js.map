{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/map-pin.ts","../../../../src/app/customer/register/page.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0',\n      key: '1r0f0z',\n    },\n  ],\n  ['circle', { cx: '12', cy: '10', r: '3', key: 'ilqhr7' }],\n];\n\n/**\n * @component @name MapPin\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTBjMCA0Ljk5My01LjUzOSAxMC4xOTMtNy4zOTkgMTEuNzk5YTEgMSAwIDAgMS0xLjIwMiAwQzkuNTM5IDIwLjE5MyA0IDE0Ljk5MyA0IDEwYTggOCAwIDAgMSAxNiAwIiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTAiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/map-pin\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MapPin = createLucideIcon('map-pin', __iconNode);\n\nexport default MapPin;\n","\"use client\"\n\nimport { useState } from \"react\"\nimport { useSession } from \"next-auth/react\"\nimport { useRouter } from \"next/navigation\"\nimport { Milk, MapPin, Phone, User, ChevronRight } from \"lucide-react\"\nimport { Button, Input, Card } from \"@/components/ui\"\nimport toast from \"react-hot-toast\"\n\nexport default function CustomerRegisterPage() {\n  const { data: session, update } = useSession()\n  const router = useRouter()\n  const [loading, setLoading] = useState(false)\n  const [step, setStep] = useState(1)\n  \n  const [form, setForm] = useState({\n    name: session?.user?.name || \"\",\n    phone: \"\",\n    addressLine1: \"\",\n    addressLine2: \"\",\n    landmark: \"\",\n    city: \"Pondicherry\",\n    pincode: \"\",\n  })\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setForm({ ...form, [e.target.name]: e.target.value })\n  }\n\n  const handleSubmit = async () => {\n    setLoading(true)\n\n    try {\n      const res = await fetch(\"/api/customer/register\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(form),\n      })\n\n      const data = await res.json()\n\n      if (!res.ok) {\n        throw new Error(data.error || \"Registration failed\")\n      }\n\n      toast.success(\"Registration successful! Awaiting admin approval.\")\n      await update() // Refresh session\n      router.push(\"/customer\")\n      router.refresh()\n\n    } catch (err: any) {\n      toast.error(err.message)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-hero p-4\">\n      {/* Header */}\n      <div className=\"text-center pt-8 pb-6\">\n        <div className=\"inline-flex items-center justify-center h-16 w-16 bg-primary-600 rounded-2xl mb-4\">\n          <Milk className=\"h-9 w-9 text-white\" />\n        </div>\n        <h1 className=\"text-2xl font-bold text-neutral-900\">Complete Your Profile</h1>\n        <p className=\"text-neutral-600 mt-1\">Just a few more details to get started</p>\n      </div>\n\n      {/* Progress */}\n      <div className=\"flex items-center justify-center gap-2 mb-8\">\n        {[1, 2].map((s) => (\n          <div\n            key={s}\n            className={`h-2 rounded-full transition-all ${\n              s <= step ? \"w-16 bg-primary-600\" : \"w-8 bg-neutral-200\"\n            }`}\n          />\n        ))}\n      </div>\n\n      {/* Form */}\n      <Card variant=\"elevated\" className=\"max-w-md mx-auto\">\n        {step === 1 && (\n          <div className=\"space-y-4 animate-fadeIn\">\n            <h2 className=\"text-lg font-semibold text-neutral-900 mb-4\">\n              Personal Details\n            </h2>\n            \n            <Input\n              label=\"Full Name\"\n              name=\"name\"\n              value={form.name}\n              onChange={handleChange}\n              placeholder=\"Enter your full name\"\n              leftIcon={<User className=\"h-5 w-5\" />}\n            />\n\n            <Input\n              label=\"Phone Number\"\n              name=\"phone\"\n              type=\"tel\"\n              value={form.phone}\n              onChange={handleChange}\n              placeholder=\"10-digit mobile number\"\n              leftIcon={<Phone className=\"h-5 w-5\" />}\n              hint=\"We'll use this to contact you about deliveries\"\n            />\n\n            <Button\n              onClick={() => {\n                if (!form.name || !form.phone) {\n                  toast.error(\"Please fill in all fields\")\n                  return\n                }\n                if (!/^[6-9]\\d{9}$/.test(form.phone)) {\n                  toast.error(\"Please enter a valid 10-digit phone number\")\n                  return\n                }\n                setStep(2)\n              }}\n              fullWidth\n              size=\"lg\"\n              className=\"mt-6\"\n            >\n              Continue\n              <ChevronRight className=\"h-5 w-5\" />\n            </Button>\n          </div>\n        )}\n\n        {step === 2 && (\n          <div className=\"space-y-4 animate-fadeIn\">\n            <h2 className=\"text-lg font-semibold text-neutral-900 mb-4\">\n              Delivery Address\n            </h2>\n\n            <Input\n              label=\"Address Line 1\"\n              name=\"addressLine1\"\n              value={form.addressLine1}\n              onChange={handleChange}\n              placeholder=\"House/Flat No., Building Name\"\n              leftIcon={<MapPin className=\"h-5 w-5\" />}\n            />\n\n            <Input\n              label=\"Address Line 2 (Optional)\"\n              name=\"addressLine2\"\n              value={form.addressLine2}\n              onChange={handleChange}\n              placeholder=\"Street, Area\"\n            />\n\n            <Input\n              label=\"Landmark (Optional)\"\n              name=\"landmark\"\n              value={form.landmark}\n              onChange={handleChange}\n              placeholder=\"Near temple, school, etc.\"\n            />\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <Input\n                label=\"City\"\n                name=\"city\"\n                value={form.city}\n                onChange={handleChange}\n                placeholder=\"City\"\n              />\n\n              <Input\n                label=\"Pincode\"\n                name=\"pincode\"\n                value={form.pincode}\n                onChange={handleChange}\n                placeholder=\"6-digit pincode\"\n                maxLength={6}\n              />\n            </div>\n\n            <div className=\"flex gap-3 mt-6\">\n              <Button\n                variant=\"outline\"\n                onClick={() => setStep(1)}\n                className=\"flex-1\"\n              >\n                Back\n              </Button>\n              <Button\n                onClick={handleSubmit}\n                loading={loading}\n                className=\"flex-1\"\n              >\n                Submit\n              </Button>\n            </div>\n          </div>\n        )}\n      </Card>\n\n      {/* Info */}\n      <div className=\"max-w-md mx-auto mt-6 p-4 bg-primary-50 rounded-xl\">\n        <p className=\"text-sm text-primary-800\">\n          <strong>What happens next?</strong><br />\n          Our team will review your details and assign a delivery person for your area. \n          You'll be notified once approved.\n        </p>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}