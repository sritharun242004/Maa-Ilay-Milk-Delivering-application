{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/tharunkumarl/Full%20Stack/maa-ilay/src/app/admin/layout.tsx"],"sourcesContent":["\"use client\"\n\nimport { useSession, signOut } from \"next-auth/react\"\nimport { useRouter, usePathname } from \"next/navigation\"\nimport { useEffect, useState } from \"react\"\nimport Link from \"next/link\"\nimport { \n  Shield, \n  LayoutDashboard, \n  Users, \n  Truck, \n  Package, \n  Calendar,\n  LogOut,\n  Menu,\n  X\n} from \"lucide-react\"\n\nconst navItems = [\n  { href: \"/admin\", label: \"Dashboard\", icon: LayoutDashboard },\n  { href: \"/admin/customers\", label: \"Customers\", icon: Users },\n  { href: \"/admin/delivery-persons\", label: \"Delivery Team\", icon: Truck },\n  { href: \"/admin/inventory\", label: \"Inventory\", icon: Package },\n  { href: \"/admin/holidays\", label: \"Holidays\", icon: Calendar },\n]\n\nexport default function AdminLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  const { data: session, status } = useSession()\n  const router = useRouter()\n  const pathname = usePathname()\n  const [sidebarOpen, setSidebarOpen] = useState(false)\n\n  useEffect(() => {\n    if (status === \"unauthenticated\") {\n      router.push(\"/login/admin\")\n    }\n  }, [status, router])\n\n  // Close sidebar on route change\n  useEffect(() => {\n    setSidebarOpen(false)\n  }, [pathname])\n\n  if (status === \"loading\") {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"w-8 h-8 border-4 border-gray-300 border-t-gray-900 rounded-full animate-spin\" />\n      </div>\n    )\n  }\n\n  if (!session || session.user.role !== \"admin\") {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"w-8 h-8 border-4 border-gray-300 border-t-gray-900 rounded-full animate-spin\" />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Mobile Header */}\n      <header className=\"lg:hidden fixed top-0 left-0 right-0 z-40 bg-white border-b border-gray-200 h-14\">\n        <div className=\"flex items-center justify-between px-4 h-full\">\n          <button\n            onClick={() => setSidebarOpen(true)}\n            className=\"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100\"\n          >\n            <Menu className=\"w-5 h-5\" />\n          </button>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-8 h-8 bg-gray-800 rounded-lg flex items-center justify-center\">\n              <Shield className=\"w-4 h-4 text-white\" />\n            </div>\n            <span className=\"font-semibold text-gray-900\">Admin</span>\n          </div>\n          <div className=\"w-10\" /> {/* Spacer for centering */}\n        </div>\n      </header>\n\n      {/* Mobile Sidebar Overlay */}\n      {sidebarOpen && (\n        <div \n          className=\"lg:hidden fixed inset-0 bg-black/50 z-50\"\n          onClick={() => setSidebarOpen(false)}\n        />\n      )}\n\n      {/* Sidebar */}\n      <aside className={`\n        fixed top-0 left-0 h-full w-64 bg-white border-r border-gray-200 z-50 \n        transform transition-transform duration-200 ease-out\n        lg:translate-x-0\n        ${sidebarOpen ? \"translate-x-0\" : \"-translate-x-full\"}\n      `}>\n        {/* Sidebar Header */}\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 bg-gray-800 rounded-xl flex items-center justify-center\">\n              <Shield className=\"w-5 h-5 text-white\" />\n            </div>\n            <div>\n              <p className=\"font-semibold text-gray-900\">Maa Ilay</p>\n              <p className=\"text-xs text-gray-500\">Admin Portal</p>\n            </div>\n          </div>\n          <button\n            onClick={() => setSidebarOpen(false)}\n            className=\"lg:hidden w-8 h-8 flex items-center justify-center rounded-lg hover:bg-gray-100\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        {/* Navigation */}\n        <nav className=\"p-3 space-y-1\">\n          {navItems.map((item) => {\n            const isActive = pathname === item.href || \n              (item.href !== \"/admin\" && pathname.startsWith(item.href))\n            const Icon = item.icon\n\n            return (\n              <Link\n                key={item.href}\n                href={item.href}\n                className={`\n                  flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors\n                  ${isActive \n                    ? \"bg-gray-900 text-white\" \n                    : \"text-gray-600 hover:bg-gray-100\"\n                  }\n                `}\n              >\n                <Icon className=\"w-5 h-5\" />\n                <span className=\"font-medium\">{item.label}</span>\n              </Link>\n            )\n          })}\n        </nav>\n\n        {/* User Section */}\n        <div className=\"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200 bg-white\">\n          <div className=\"flex items-center gap-3 mb-3\">\n            <div className=\"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0\">\n              <span className=\"text-sm font-semibold text-gray-700\">\n                {session.user.name?.charAt(0).toUpperCase()}\n              </span>\n            </div>\n            <div className=\"min-w-0 flex-1\">\n              <p className=\"font-medium text-gray-900 truncate text-sm\">{session.user.name}</p>\n              <p className=\"text-xs text-gray-500 truncate\">{session.user.email}</p>\n            </div>\n          </div>\n          <button\n            onClick={() => signOut({ callbackUrl: \"/login/admin\" })}\n            className=\"flex items-center gap-2 w-full px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors text-sm\"\n          >\n            <LogOut className=\"w-4 h-4\" />\n            <span className=\"font-medium\">Sign Out</span>\n          </button>\n        </div>\n      </aside>\n\n      {/* Main Content */}\n      <main className=\"lg:pl-64 min-h-screen pt-14 lg:pt-0\">\n        {children}\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}