{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/tharunkumarl/Full%20Stack/maa-ilay/backend/src/app/api/auth-customer/google/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\"\n\n/**\n * Direct Google OAuth trigger endpoint\n * Bypasses NextAuth's signin page completely\n * Constructs Google OAuth URL and redirects immediately\n */\nexport async function GET(request: NextRequest) {\n  const { searchParams } = new URL(request.url)\n  const callbackUrl = searchParams.get(\"callbackUrl\") || process.env.NEXT_PUBLIC_FRONTEND_URL || \"http://localhost:5173/customer/dashboard\"\n  \n  const clientId = process.env.GOOGLE_CLIENT_ID\n  const baseUrl = process.env.NEXTAUTH_URL || \"http://localhost:3000\"\n  \n  if (!clientId) {\n    return NextResponse.json({ error: \"Google OAuth not configured\" }, { status: 500 })\n  }\n  \n  // Build Google OAuth authorization URL\n  const googleAuthUrl = new URL(\"https://accounts.google.com/o/oauth2/v2/auth\")\n  googleAuthUrl.searchParams.set(\"client_id\", clientId)\n  googleAuthUrl.searchParams.set(\"redirect_uri\", `${baseUrl}/api/auth-customer/callback/google`)\n  googleAuthUrl.searchParams.set(\"response_type\", \"code\")\n  googleAuthUrl.searchParams.set(\"scope\", \"openid email profile\")\n  googleAuthUrl.searchParams.set(\"prompt\", \"select_account\")\n  googleAuthUrl.searchParams.set(\"access_type\", \"offline\")\n  \n  // Encode state with callback URL for NextAuth to use after OAuth completes\n  const state = Buffer.from(JSON.stringify({ callbackUrl })).toString(\"base64url\")\n  googleAuthUrl.searchParams.set(\"state\", state)\n  \n  return NextResponse.redirect(googleAuthUrl)\n}\n"],"names":[],"mappings":";;;;AAAA;;AAOO,eAAe,IAAI,OAAoB;IAC5C,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;IAC5C,MAAM,cAAc,aAAa,GAAG,CAAC,+EAA0D;IAE/F,MAAM,WAAW,QAAQ,GAAG,CAAC,gBAAgB;IAC7C,MAAM,UAAU,QAAQ,GAAG,CAAC,YAAY,IAAI;IAE5C,IAAI,CAAC,UAAU;QACb,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA8B,GAAG;YAAE,QAAQ;QAAI;IACnF;IAEA,uCAAuC;IACvC,MAAM,gBAAgB,IAAI,IAAI;IAC9B,cAAc,YAAY,CAAC,GAAG,CAAC,aAAa;IAC5C,cAAc,YAAY,CAAC,GAAG,CAAC,gBAAgB,GAAG,QAAQ,kCAAkC,CAAC;IAC7F,cAAc,YAAY,CAAC,GAAG,CAAC,iBAAiB;IAChD,cAAc,YAAY,CAAC,GAAG,CAAC,SAAS;IACxC,cAAc,YAAY,CAAC,GAAG,CAAC,UAAU;IACzC,cAAc,YAAY,CAAC,GAAG,CAAC,eAAe;IAE9C,2EAA2E;IAC3E,MAAM,QAAQ,OAAO,IAAI,CAAC,KAAK,SAAS,CAAC;QAAE;IAAY,IAAI,QAAQ,CAAC;IACpE,cAAc,YAAY,CAAC,GAAG,CAAC,SAAS;IAExC,OAAO,gJAAY,CAAC,QAAQ,CAAC;AAC/B"}}]
}