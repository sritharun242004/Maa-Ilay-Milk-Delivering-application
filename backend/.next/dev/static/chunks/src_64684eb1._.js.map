{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/tharunkumarl/Full%20Stack/maa-ilay/src/lib/constants.ts"],"sourcesContent":["// ==================== PRICING CONSTANTS ====================\n\n// Milk pricing (in paise - 100 paise = 1 rupee)\nexport const MILK_PRICE_PER_LITER_PAISE = 11000 // ₹110 per liter\nexport const MILK_PRICE_PER_500ML_PAISE = 5500  // ₹55 per 500ml\n\n// Bottle deposit pricing (in paise)\nexport const DEPOSIT_LARGE_BOTTLE_PAISE = 3500  // ₹35 for 1L bottle\nexport const DEPOSIT_SMALL_BOTTLE_PAISE = 2500  // ₹25 for 500ml bottle\n\n// Penalty pricing (same as deposit)\nexport const PENALTY_LARGE_BOTTLE_PAISE = 3500  // ₹35 penalty\nexport const PENALTY_SMALL_BOTTLE_PAISE = 2500  // ₹25 penalty\n\n// ==================== SUBSCRIPTION CONSTANTS ====================\n\n// Quantity limits (in ml)\nexport const MIN_DAILY_QUANTITY_ML = 500\nexport const MAX_DAILY_QUANTITY_ML = 3000\nexport const QUANTITY_STEP_ML = 500\n\n// Subscription cycles\nexport const DEPOSIT_CYCLE_MONTHS = 3 // Deposit every 3 months\nexport const MIN_SUBSCRIPTION_MONTHS = 1\n\n// Pause limits\nexport const MAX_PAUSE_DAYS_PER_MONTH = 5\n\n// ==================== TIMING CONSTANTS ====================\n\n// Cutoff time for changes (5:00 PM IST previous day)\nexport const CUTOFF_HOUR = 17 // 5 PM in 24-hour format\nexport const CUTOFF_MINUTE = 0\n\n// Delivery time\nexport const DELIVERY_HOUR = 6 // 6 AM\n\n// Grace period for negative balance\nexport const GRACE_PERIOD_DAYS = 1\n\n// Penalty trigger (days without returning bottles)\nexport const PENALTY_TRIGGER_DAYS = 7\n\n// ==================== TIMEZONE ====================\n\nexport const TIMEZONE = 'Asia/Kolkata'\n\n// ==================== BOTTLE COMPOSITION ====================\n\n// Helper to calculate bottle composition from quantity\nexport function calculateBottleComposition(quantityMl: number): {\n  largeBottles: number\n  smallBottles: number\n} {\n  const largeBottles = Math.floor(quantityMl / 1000)\n  const remainingMl = quantityMl % 1000\n  const smallBottles = remainingMl >= 500 ? 1 : 0\n  \n  return { largeBottles, smallBottles }\n}\n\n// Helper to calculate daily price from quantity\nexport function calculateDailyPrice(quantityMl: number): number {\n  const { largeBottles, smallBottles } = calculateBottleComposition(quantityMl)\n  return (largeBottles * MILK_PRICE_PER_LITER_PAISE) + (smallBottles * MILK_PRICE_PER_500ML_PAISE)\n}\n\n// Helper to calculate deposit amount\nexport function calculateDepositAmount(quantityMl: number): number {\n  const { largeBottles, smallBottles } = calculateBottleComposition(quantityMl)\n  return (largeBottles * DEPOSIT_LARGE_BOTTLE_PAISE) + (smallBottles * DEPOSIT_SMALL_BOTTLE_PAISE)\n}\n\n// Helper to calculate monthly total (milk + deposit if applicable)\nexport function calculateMonthlyTotal(\n  quantityMl: number,\n  daysInMonth: number,\n  includeDeposit: boolean\n): { milkTotal: number; depositTotal: number; grandTotal: number } {\n  const dailyPrice = calculateDailyPrice(quantityMl)\n  const milkTotal = dailyPrice * daysInMonth\n  const depositTotal = includeDeposit ? calculateDepositAmount(quantityMl) : 0\n  \n  return {\n    milkTotal,\n    depositTotal,\n    grandTotal: milkTotal + depositTotal\n  }\n}\n\n// Check if deposit is due for a given cycle\nexport function isDepositDue(paymentCycleCount: number): boolean {\n  // Deposit on month 1, 4, 7, 10... (every 3 months)\n  return paymentCycleCount % DEPOSIT_CYCLE_MONTHS === 1\n}\n\n// ==================== QUANTITY OPTIONS ====================\n\nexport const QUANTITY_OPTIONS = [\n  { value: 500, label: '500ml', bottles: '1 small bottle' },\n  { value: 1000, label: '1 Liter', bottles: '1 large bottle' },\n  { value: 1500, label: '1.5 Liters', bottles: '1 large + 1 small bottle' },\n  { value: 2000, label: '2 Liters', bottles: '2 large bottles' },\n  { value: 2500, label: '2.5 Liters', bottles: '2 large + 1 small bottle' },\n  { value: 3000, label: '3 Liters', bottles: '3 large bottles' },\n]\n\n// ==================== STATUS LABELS ====================\n\nexport const CUSTOMER_STATUS_LABELS = {\n  PENDING_APPROVAL: 'Pending Approval',\n  PENDING_PAYMENT: 'Awaiting Payment',\n  ACTIVE: 'Active',\n  PAUSED: 'Paused',\n  BLOCKED: 'Blocked',\n  INACTIVE: 'Inactive',\n}\n\nexport const DELIVERY_STATUS_LABELS = {\n  SCHEDULED: 'Scheduled',\n  DELIVERED: 'Delivered',\n  NOT_DELIVERED: 'Not Delivered',\n  PAUSED: 'Paused',\n  BLOCKED: 'Blocked',\n  HOLIDAY: 'Holiday',\n}\n\n// ==================== FORMAT HELPERS ====================\n\nexport function formatPaise(paise: number): string {\n  const rupees = paise / 100\n  return new Intl.NumberFormat('en-IN', {\n    style: 'currency',\n    currency: 'INR',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 2,\n  }).format(rupees)\n}\n\nexport function formatQuantity(ml: number): string {\n  if (ml >= 1000) {\n    const liters = ml / 1000\n    return `${liters}L`\n  }\n  return `${ml}ml`\n}\n"],"names":[],"mappings":"AAAA,8DAA8D;AAE9D,gDAAgD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACzC,MAAM,6BAA6B,MAAM,iBAAiB;;AAC1D,MAAM,6BAA6B,KAAM,gBAAgB;;AAGzD,MAAM,6BAA6B,KAAM,oBAAoB;;AAC7D,MAAM,6BAA6B,KAAM,uBAAuB;;AAGhE,MAAM,6BAA6B,KAAM,cAAc;;AACvD,MAAM,6BAA6B,KAAM,cAAc;;AAKvD,MAAM,wBAAwB;AAC9B,MAAM,wBAAwB;AAC9B,MAAM,mBAAmB;AAGzB,MAAM,uBAAuB,EAAE,yBAAyB;;AACxD,MAAM,0BAA0B;AAGhC,MAAM,2BAA2B;AAKjC,MAAM,cAAc,GAAG,yBAAyB;;AAChD,MAAM,gBAAgB;AAGtB,MAAM,gBAAgB,EAAE,OAAO;;AAG/B,MAAM,oBAAoB;AAG1B,MAAM,uBAAuB;AAI7B,MAAM,WAAW;AAKjB,SAAS,2BAA2B,UAAkB;IAI3D,MAAM,eAAe,KAAK,KAAK,CAAC,aAAa;IAC7C,MAAM,cAAc,aAAa;IACjC,MAAM,eAAe,eAAe,MAAM,IAAI;IAE9C,OAAO;QAAE;QAAc;IAAa;AACtC;AAGO,SAAS,oBAAoB,UAAkB;IACpD,MAAM,EAAE,YAAY,EAAE,YAAY,EAAE,GAAG,2BAA2B;IAClE,OAAO,AAAC,eAAe,6BAA+B,eAAe;AACvE;AAGO,SAAS,uBAAuB,UAAkB;IACvD,MAAM,EAAE,YAAY,EAAE,YAAY,EAAE,GAAG,2BAA2B;IAClE,OAAO,AAAC,eAAe,6BAA+B,eAAe;AACvE;AAGO,SAAS,sBACd,UAAkB,EAClB,WAAmB,EACnB,cAAuB;IAEvB,MAAM,aAAa,oBAAoB;IACvC,MAAM,YAAY,aAAa;IAC/B,MAAM,eAAe,iBAAiB,uBAAuB,cAAc;IAE3E,OAAO;QACL;QACA;QACA,YAAY,YAAY;IAC1B;AACF;AAGO,SAAS,aAAa,iBAAyB;IACpD,mDAAmD;IACnD,OAAO,oBAAoB,yBAAyB;AACtD;AAIO,MAAM,mBAAmB;IAC9B;QAAE,OAAO;QAAK,OAAO;QAAS,SAAS;IAAiB;IACxD;QAAE,OAAO;QAAM,OAAO;QAAW,SAAS;IAAiB;IAC3D;QAAE,OAAO;QAAM,OAAO;QAAc,SAAS;IAA2B;IACxE;QAAE,OAAO;QAAM,OAAO;QAAY,SAAS;IAAkB;IAC7D;QAAE,OAAO;QAAM,OAAO;QAAc,SAAS;IAA2B;IACxE;QAAE,OAAO;QAAM,OAAO;QAAY,SAAS;IAAkB;CAC9D;AAIM,MAAM,yBAAyB;IACpC,kBAAkB;IAClB,iBAAiB;IACjB,QAAQ;IACR,QAAQ;IACR,SAAS;IACT,UAAU;AACZ;AAEO,MAAM,yBAAyB;IACpC,WAAW;IACX,WAAW;IACX,eAAe;IACf,QAAQ;IACR,SAAS;IACT,SAAS;AACX;AAIO,SAAS,YAAY,KAAa;IACvC,MAAM,SAAS,QAAQ;IACvB,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;QACV,uBAAuB;QACvB,uBAAuB;IACzB,GAAG,MAAM,CAAC;AACZ;AAEO,SAAS,eAAe,EAAU;IACvC,IAAI,MAAM,MAAM;QACd,MAAM,SAAS,KAAK;QACpB,OAAO,GAAG,OAAO,CAAC,CAAC;IACrB;IACA,OAAO,GAAG,GAAG,EAAE,CAAC;AAClB"}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":["file:///Users/tharunkumarl/Full%20Stack/maa-ilay/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\nimport { TIMEZONE, CUTOFF_HOUR, CUTOFF_MINUTE } from \"./constants\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\n// Get current date in IST\nexport function getISTDate(): Date {\n  return new Date(new Date().toLocaleString('en-US', { timeZone: TIMEZONE }))\n}\n\n// Get IST date string (YYYY-MM-DD)\nexport function getISTDateString(date?: Date): string {\n  const d = date || new Date()\n  return d.toLocaleDateString('en-CA', { timeZone: TIMEZONE }) // en-CA gives YYYY-MM-DD format\n}\n\n// Parse date string to Date object (assumes IST)\nexport function parseISTDate(dateString: string): Date {\n  const [year, month, day] = dateString.split('-').map(Number)\n  return new Date(year, month - 1, day)\n}\n\n// Check if current time is past cutoff (5 PM IST)\nexport function isPastCutoff(): boolean {\n  const now = getISTDate()\n  const currentHour = now.getHours()\n  const currentMinute = now.getMinutes()\n  \n  return currentHour > CUTOFF_HOUR || (currentHour === CUTOFF_HOUR && currentMinute >= CUTOFF_MINUTE)\n}\n\n// Get the earliest date that can be paused (considering cutoff)\nexport function getEarliestPausableDate(): Date {\n  const today = getISTDate()\n  today.setHours(0, 0, 0, 0)\n  \n  // If past cutoff, can't pause tomorrow, only day after\n  const daysToAdd = isPastCutoff() ? 2 : 1\n  today.setDate(today.getDate() + daysToAdd)\n  \n  return today\n}\n\n// Get tomorrow's date in IST\nexport function getTomorrowIST(): Date {\n  const tomorrow = getISTDate()\n  tomorrow.setDate(tomorrow.getDate() + 1)\n  tomorrow.setHours(0, 0, 0, 0)\n  return tomorrow\n}\n\n// Get current month-year string (YYYY-MM)\nexport function getCurrentMonthYear(): string {\n  const now = getISTDate()\n  return `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}`\n}\n\n// Get days in a specific month\nexport function getDaysInMonth(year: number, month: number): number {\n  return new Date(year, month, 0).getDate()\n}\n\n// Get start and end of current month\nexport function getCurrentMonthRange(): { start: Date; end: Date } {\n  const now = getISTDate()\n  const start = new Date(now.getFullYear(), now.getMonth(), 1)\n  const end = new Date(now.getFullYear(), now.getMonth() + 1, 0)\n  return { start, end }\n}\n\n// Format date for display\nexport function formatDate(date: Date | string): string {\n  const d = typeof date === 'string' ? new Date(date) : date\n  return d.toLocaleDateString('en-IN', {\n    day: 'numeric',\n    month: 'short',\n    year: 'numeric',\n    timeZone: TIMEZONE\n  })\n}\n\n// Format date for display (short)\nexport function formatDateShort(date: Date | string): string {\n  const d = typeof date === 'string' ? new Date(date) : date\n  return d.toLocaleDateString('en-IN', {\n    day: 'numeric',\n    month: 'short',\n    timeZone: TIMEZONE\n  })\n}\n\n// Format datetime for display\nexport function formatDateTime(date: Date | string): string {\n  const d = typeof date === 'string' ? new Date(date) : date\n  return d.toLocaleString('en-IN', {\n    day: 'numeric',\n    month: 'short',\n    year: 'numeric',\n    hour: 'numeric',\n    minute: '2-digit',\n    hour12: true,\n    timeZone: TIMEZONE\n  })\n}\n\n// Generate array of dates for a month\nexport function getMonthDates(year: number, month: number): Date[] {\n  const dates: Date[] = []\n  const daysInMonth = getDaysInMonth(year, month)\n  \n  for (let day = 1; day <= daysInMonth; day++) {\n    dates.push(new Date(year, month - 1, day))\n  }\n  \n  return dates\n}\n\n// Check if two dates are the same day\nexport function isSameDay(date1: Date, date2: Date): boolean {\n  return (\n    date1.getFullYear() === date2.getFullYear() &&\n    date1.getMonth() === date2.getMonth() &&\n    date1.getDate() === date2.getDate()\n  )\n}\n\n// Calculate difference in days between two dates\nexport function daysDifference(date1: Date, date2: Date): number {\n  const oneDay = 24 * 60 * 60 * 1000\n  return Math.round((date2.getTime() - date1.getTime()) / oneDay)\n}\n\n// Validate phone number (Indian format)\nexport function isValidIndianPhone(phone: string): boolean {\n  const cleaned = phone.replace(/\\D/g, '')\n  return /^[6-9]\\d{9}$/.test(cleaned)\n}\n\n// Format phone number for display\nexport function formatPhone(phone: string): string {\n  const cleaned = phone.replace(/\\D/g, '')\n  if (cleaned.length === 10) {\n    return `+91 ${cleaned.slice(0, 5)} ${cleaned.slice(5)}`\n  }\n  return phone\n}\n\n// Validate pincode (Indian format)\nexport function isValidPincode(pincode: string): boolean {\n  return /^[1-9][0-9]{5}$/.test(pincode)\n}\n\n// Generate a random password\nexport function generatePassword(length: number = 8): string {\n  const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'\n  let password = ''\n  for (let i = 0; i < length; i++) {\n    password += chars.charAt(Math.floor(Math.random() * chars.length))\n  }\n  return password\n}\n\n// Slugify a string\nexport function slugify(text: string): string {\n  return text\n    .toLowerCase()\n    .trim()\n    .replace(/[^\\w\\s-]/g, '')\n    .replace(/[\\s_-]+/g, '-')\n    .replace(/^-+|-+$/g, '')\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 374, "column": 0}, "map": {"version":3,"sources":["file:///Users/tharunkumarl/Full%20Stack/maa-ilay/src/app/admin/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useQuery } from \"@tanstack/react-query\"\nimport { \n  UserCheck, \n  Truck, \n  Package, \n  TrendingUp,\n  AlertCircle,\n  Clock,\n  CheckCircle\n} from \"lucide-react\"\nimport Link from \"next/link\"\nimport { formatPaise } from \"@/lib/constants\"\nimport { formatDateTime } from \"@/lib/utils\"\n\nexport default function AdminDashboard() {\n  const { data, isLoading, error } = useQuery({\n    queryKey: [\"admin-dashboard\"],\n    queryFn: async () => {\n      const res = await fetch(\"/api/admin/dashboard\")\n      if (!res.ok) throw new Error(\"Failed to fetch\")\n      return res.json()\n    },\n    refetchInterval: 60000,\n  })\n\n  if (isLoading) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"animate-pulse space-y-6\">\n          <div className=\"h-8 bg-gray-200 rounded w-48\"></div>\n          <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4\">\n            {[1,2,3,4].map(i => <div key={i} className=\"h-24 bg-gray-200 rounded-xl\"></div>)}\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"bg-red-50 border border-red-200 rounded-xl p-4\">\n          <div className=\"flex items-center gap-3 text-red-700\">\n            <AlertCircle className=\"w-5 h-5\" />\n            <p>Failed to load dashboard. Please refresh.</p>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  const { overview, todayStats, inventory, todayRevenue, recentTransactions } = data.data\n\n  return (\n    <div className=\"p-4 lg:p-6 max-w-7xl\">\n      {/* Header */}\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">Dashboard</h1>\n        <p className=\"text-gray-500 text-sm\">Welcome back! Here's what's happening today.</p>\n      </div>\n\n      {/* Pending Approvals Alert */}\n      {overview.pendingApprovals > 0 && (\n        <Link href=\"/admin/customers?status=PENDING_APPROVAL\" className=\"block mb-6\">\n          <div className=\"bg-amber-50 border border-amber-200 rounded-xl p-4 hover:bg-amber-100 transition-colors\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-10 h-10 bg-amber-200 rounded-lg flex items-center justify-center\">\n                  <Clock className=\"w-5 h-5 text-amber-700\" />\n                </div>\n                <div>\n                  <p className=\"font-semibold text-amber-800\">\n                    {overview.pendingApprovals} Pending Approval{overview.pendingApprovals > 1 ? 's' : ''}\n                  </p>\n                  <p className=\"text-sm text-amber-600\">New customers waiting for your review</p>\n                </div>\n              </div>\n              <span className=\"px-2.5 py-1 bg-amber-200 text-amber-800 rounded-full text-sm font-medium\">\n                {overview.pendingApprovals}\n              </span>\n            </div>\n          </div>\n        </Link>\n      )}\n\n      {/* Stats Grid */}\n      <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6\">\n        <div className=\"bg-white rounded-xl border border-gray-200 p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center flex-shrink-0\">\n              <UserCheck className=\"w-6 h-6 text-green-600\" />\n            </div>\n            <div className=\"min-w-0\">\n              <p className=\"text-2xl font-bold text-gray-900\">{overview.activeCustomers}</p>\n              <p className=\"text-sm text-gray-500 truncate\">Active Customers</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-xl border border-gray-200 p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center flex-shrink-0\">\n              <Truck className=\"w-6 h-6 text-blue-600\" />\n            </div>\n            <div className=\"min-w-0\">\n              <p className=\"text-2xl font-bold text-gray-900\">{overview.activeDeliveryPersons}</p>\n              <p className=\"text-sm text-gray-500 truncate\">Delivery Team</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-xl border border-gray-200 p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center flex-shrink-0\">\n              <Package className=\"w-6 h-6 text-purple-600\" />\n            </div>\n            <div className=\"min-w-0\">\n              <p className=\"text-2xl font-bold text-gray-900\">\n                {inventory.inCirculationLarge + inventory.inCirculationSmall}\n              </p>\n              <p className=\"text-sm text-gray-500 truncate\">Bottles Out</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-xl border border-gray-200 p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-12 h-12 bg-emerald-100 rounded-xl flex items-center justify-center flex-shrink-0\">\n              <TrendingUp className=\"w-6 h-6 text-emerald-600\" />\n            </div>\n            <div className=\"min-w-0\">\n              <p className=\"text-2xl font-bold text-gray-900\">{formatPaise(todayRevenue)}</p>\n              <p className=\"text-sm text-gray-500 truncate\">Today's Revenue</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Two Column Layout */}\n      <div className=\"grid lg:grid-cols-2 gap-6 mb-6\">\n        {/* Today's Deliveries */}\n        <div className=\"bg-white rounded-xl border border-gray-200 p-5\">\n          <h2 className=\"font-semibold text-gray-900 mb-4\">Today's Deliveries</h2>\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n              <span className=\"text-gray-600\">Total Scheduled</span>\n              <span className=\"font-semibold text-gray-900\">{todayStats.total}</span>\n            </div>\n            <div className=\"flex items-center justify-between p-3 bg-green-50 rounded-lg\">\n              <div className=\"flex items-center gap-2\">\n                <CheckCircle className=\"w-4 h-4 text-green-600\" />\n                <span className=\"text-green-700\">Delivered</span>\n              </div>\n              <span className=\"font-semibold text-green-700\">{todayStats.delivered}</span>\n            </div>\n            <div className=\"flex items-center justify-between p-3 bg-amber-50 rounded-lg\">\n              <div className=\"flex items-center gap-2\">\n                <Clock className=\"w-4 h-4 text-amber-600\" />\n                <span className=\"text-amber-700\">Pending</span>\n              </div>\n              <span className=\"font-semibold text-amber-700\">{todayStats.scheduled}</span>\n            </div>\n            <div className=\"flex items-center justify-between p-3 bg-red-50 rounded-lg\">\n              <div className=\"flex items-center gap-2\">\n                <AlertCircle className=\"w-4 h-4 text-red-600\" />\n                <span className=\"text-red-700\">Not Delivered / Paused</span>\n              </div>\n              <span className=\"font-semibold text-red-700\">\n                {todayStats.notDelivered + todayStats.paused}\n              </span>\n            </div>\n          </div>\n        </div>\n\n        {/* Inventory Status */}\n        <div className=\"bg-white rounded-xl border border-gray-200 p-5\">\n          <h2 className=\"font-semibold text-gray-900 mb-4\">Inventory Status</h2>\n          <div className=\"space-y-5\">\n            <div>\n              <div className=\"flex items-center justify-between mb-2\">\n                <span className=\"text-sm text-gray-600\">1L Bottles</span>\n                <span className=\"text-sm font-medium text-gray-900\">\n                  {inventory.availableLarge} available / {inventory.totalLarge} total\n                </span>\n              </div>\n              <div className=\"h-2 bg-gray-100 rounded-full overflow-hidden\">\n                <div \n                  className=\"h-full bg-green-500 rounded-full transition-all\"\n                  style={{ \n                    width: `${inventory.totalLarge > 0 \n                      ? (inventory.inCirculationLarge / inventory.totalLarge) * 100 \n                      : 0}%` \n                  }}\n                />\n              </div>\n              <p className=\"text-xs text-gray-500 mt-1\">{inventory.inCirculationLarge} with customers</p>\n            </div>\n            <div>\n              <div className=\"flex items-center justify-between mb-2\">\n                <span className=\"text-sm text-gray-600\">500ml Bottles</span>\n                <span className=\"text-sm font-medium text-gray-900\">\n                  {inventory.availableSmall} available / {inventory.totalSmall} total\n                </span>\n              </div>\n              <div className=\"h-2 bg-gray-100 rounded-full overflow-hidden\">\n                <div \n                  className=\"h-full bg-amber-500 rounded-full transition-all\"\n                  style={{ \n                    width: `${inventory.totalSmall > 0 \n                      ? (inventory.inCirculationSmall / inventory.totalSmall) * 100 \n                      : 0}%` \n                  }}\n                />\n              </div>\n              <p className=\"text-xs text-gray-500 mt-1\">{inventory.inCirculationSmall} with customers</p>\n            </div>\n          </div>\n          <Link \n            href=\"/admin/inventory\"\n            className=\"block mt-5 text-center text-sm text-green-600 font-medium hover:underline\"\n          >\n            Manage Inventory\n          </Link>\n        </div>\n      </div>\n\n      {/* Recent Transactions */}\n      <div className=\"bg-white rounded-xl border border-gray-200 p-5\">\n        <h2 className=\"font-semibold text-gray-900 mb-4\">Recent Transactions</h2>\n        {recentTransactions.length === 0 ? (\n          <p className=\"text-gray-500 text-center py-8\">No recent transactions</p>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full text-sm\">\n              <thead>\n                <tr className=\"text-left text-gray-500 border-b border-gray-200\">\n                  <th className=\"pb-3 font-medium\">Customer</th>\n                  <th className=\"pb-3 font-medium\">Type</th>\n                  <th className=\"pb-3 font-medium\">Amount</th>\n                  <th className=\"pb-3 font-medium\">Date</th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-gray-100\">\n                {recentTransactions.slice(0, 10).map((tx: any) => (\n                  <tr key={tx.id}>\n                    <td className=\"py-3 font-medium text-gray-900\">\n                      {tx.wallet?.customer?.name || \"Unknown\"}\n                    </td>\n                    <td className=\"py-3\">\n                      <span className={`px-2 py-1 rounded text-xs font-medium ${\n                        tx.type === \"WALLET_TOPUP\" ? \"bg-green-100 text-green-700\" :\n                        tx.type === \"PENALTY_CHARGE\" ? \"bg-red-100 text-red-700\" :\n                        \"bg-gray-100 text-gray-700\"\n                      }`}>\n                        {tx.type.replace(/_/g, \" \")}\n                      </span>\n                    </td>\n                    <td className={`py-3 font-medium ${tx.amountPaise > 0 ? \"text-green-600\" : \"text-red-600\"}`}>\n                      {tx.amountPaise > 0 ? \"+\" : \"\"}{formatPaise(tx.amountPaise)}\n                    </td>\n                    <td className=\"py-3 text-gray-500\">{formatDateTime(tx.createdAt)}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}