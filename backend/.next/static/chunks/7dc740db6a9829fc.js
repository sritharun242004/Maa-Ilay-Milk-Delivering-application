(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46897,e=>{"use strict";let a=(0,e.i(75254).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>a],46897)},3933,e=>{"use strict";var a=e.i(43476),s=e.i(71645),l=e.i(17255),t=e.i(18566),n=e.i(39707),i=e.i(46897),r=e.i(43432),d=e.i(84614),o=e.i(63059);e.i(16787);var c=e.i(19455),m=e.i(93479),u=e.i(15288),h=e.i(5766);function p(){let{data:e,update:p}=(0,l.useSession)(),x=(0,t.useRouter)(),[g,f]=(0,s.useState)(!1),[j,b]=(0,s.useState)(1),[v,y]=(0,s.useState)({name:e?.user?.name||"",phone:"",addressLine1:"",addressLine2:"",landmark:"",city:"Pondicherry",pincode:""}),N=e=>{y({...v,[e.target.name]:e.target.value})},C=async()=>{f(!0);try{let e=await fetch("/api/customer/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)}),a=await e.json();if(!e.ok)throw Error(a.error||"Registration failed");h.default.success("Registration successful! Awaiting admin approval."),await p(),x.push("/customer"),x.refresh()}catch(e){h.default.error(e.message)}finally{f(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-hero p-4",children:[(0,a.jsxs)("div",{className:"text-center pt-8 pb-6",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center h-16 w-16 bg-primary-600 rounded-2xl mb-4",children:(0,a.jsx)(n.Milk,{className:"h-9 w-9 text-white"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-neutral-900",children:"Complete Your Profile"}),(0,a.jsx)("p",{className:"text-neutral-600 mt-1",children:"Just a few more details to get started"})]}),(0,a.jsx)("div",{className:"flex items-center justify-center gap-2 mb-8",children:[1,2].map(e=>(0,a.jsx)("div",{className:`h-2 rounded-full transition-all ${e<=j?"w-16 bg-primary-600":"w-8 bg-neutral-200"}`},e))}),(0,a.jsxs)(u.Card,{variant:"elevated",className:"max-w-md mx-auto",children:[1===j&&(0,a.jsxs)("div",{className:"space-y-4 animate-fadeIn",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Personal Details"}),(0,a.jsx)(m.Input,{label:"Full Name",name:"name",value:v.name,onChange:N,placeholder:"Enter your full name",leftIcon:(0,a.jsx)(d.User,{className:"h-5 w-5"})}),(0,a.jsx)(m.Input,{label:"Phone Number",name:"phone",type:"tel",value:v.phone,onChange:N,placeholder:"10-digit mobile number",leftIcon:(0,a.jsx)(r.Phone,{className:"h-5 w-5"}),hint:"We'll use this to contact you about deliveries"}),(0,a.jsxs)(c.Button,{onClick:()=>{v.name&&v.phone?/^[6-9]\d{9}$/.test(v.phone)?b(2):h.default.error("Please enter a valid 10-digit phone number"):h.default.error("Please fill in all fields")},fullWidth:!0,size:"lg",className:"mt-6",children:["Continue",(0,a.jsx)(o.ChevronRight,{className:"h-5 w-5"})]})]}),2===j&&(0,a.jsxs)("div",{className:"space-y-4 animate-fadeIn",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Delivery Address"}),(0,a.jsx)(m.Input,{label:"Address Line 1",name:"addressLine1",value:v.addressLine1,onChange:N,placeholder:"House/Flat No., Building Name",leftIcon:(0,a.jsx)(i.MapPin,{className:"h-5 w-5"})}),(0,a.jsx)(m.Input,{label:"Address Line 2 (Optional)",name:"addressLine2",value:v.addressLine2,onChange:N,placeholder:"Street, Area"}),(0,a.jsx)(m.Input,{label:"Landmark (Optional)",name:"landmark",value:v.landmark,onChange:N,placeholder:"Near temple, school, etc."}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(m.Input,{label:"City",name:"city",value:v.city,onChange:N,placeholder:"City"}),(0,a.jsx)(m.Input,{label:"Pincode",name:"pincode",value:v.pincode,onChange:N,placeholder:"6-digit pincode",maxLength:6})]}),(0,a.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,a.jsx)(c.Button,{variant:"outline",onClick:()=>b(1),className:"flex-1",children:"Back"}),(0,a.jsx)(c.Button,{onClick:C,loading:g,className:"flex-1",children:"Submit"})]})]})]}),(0,a.jsx)("div",{className:"max-w-md mx-auto mt-6 p-4 bg-primary-50 rounded-xl",children:(0,a.jsxs)("p",{className:"text-sm text-primary-800",children:[(0,a.jsx)("strong",{children:"What happens next?"}),(0,a.jsx)("br",{}),"Our team will review your details and assign a delivery person for your area. You'll be notified once approved."]})})]})}e.s(["default",()=>p])}]);